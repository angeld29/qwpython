<html>
<head>
<title>QWPython</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<style type="text/css">
<!--
body {  font-family: Arial, Helvetica, sans-serif; background-color: #FFFFFF}
h2 {  font-size: larger; font-weight: bolder}
td.sidebar {  background-color: #99ccff;; width: 150px;}
td.sidebar h2 { background-color: #003366; color: #FFFFFF;}
td.sidebar p { font-size: smaller; margin-top: 8px; margin-left: 8px;}
td.main p, td.main h2 {  margin-top: 16px; margin-left: 16px}
td.footer {font-size: smaller; text-align: right; font-style: italic}
ul.dirtree { font-family: Arial, Helvetica, sans-serif;}
li.new { color: #009933}
-->
</style>
</head>

<body>
<table width="100%" border="0">
  <tr> 
    <td> 
      <div align="center"><img src="docs/blue_soldier.gif" width="106" height="140" alt="Blue CTF Soldier"></div>
    </td>
    <td><img src="docs/qwpython.gif" width="400" height="131" alt="QuakeWorld Python"></td>
  </tr>
  <tr> 
    <td class="sidebar" valign="top"> 
      <h2>Docs</h2>
      <p><a href="docs/changelog.txt">Changelog</a></p>
      <p><a href="docs/devel_notes.txt">Devel Notes</a></p>
      <p><a href="docs/qcbugs.html">QuakeC Bugs</a></p>
      <p><a href="docs/translate.html">Translating QC</a></p>
      <h2>Links</h2>
      <p><a href="http://sourceforge.net/projects/qwpython">SourceForge Project</a></p>
      <p><a href="http://www.planetquake.com/q2java">Q2Java</a> - a similar project 
        that allows Quake2 games to be written in Java instead of C.</p>
    </td>
    <td class="new"> 
      <p>QWPython is a Python-powered QuakeWorld dedicated server in which the 
        QuakeC interpreter has been removed, and Python used in its place to execute 
        game logic. </p>
      <p>Python game logic can be generated by an included QuakeC -&gt; Python 
        translator.</p>
      <h2>Runs on:</h2>
      <ul>
        <li>Unix (tested on FreeBSD 4.2 and Debian 2.2 (both x86))</li>
        <li>Windows (tested on NT 4.0 and 2000)</li>
      </ul>
      <h2>Requirements:</h2>
      <ul>
        <li>Python 2.0 or higher</li>
        <li>Quake/QuakeWorld .PAK files</li>
      </ul>
      <h2>File Placement</h2>
      <p>QWPython should work out-of-the-box if you place its files (shown in 
        <font color="#009933">green</font>) relative to your Quake installation 
        like this:</p>
      <ul class="dirtree">
        <li>quake/ 
          <ul>
            <li>id1/ 
              <ul>
                <li>pak0.pak</li>
                <li>pak1.pak</li>
                <li>server.cfg</li>
              </ul>
            </li>
            <li>ctf/ (optional) 
              <ul>
                <li>pak0.pak</li>
                <li>pak1.pak</li>
                <li>server.cfg</li>
              </ul>
            </li>
          </ul>
        </li>
        <li class="new">qwpython-<i>x.y</i>/ 
          <ul>
            <li>ctf.py</li>
            <li>deathmatch.py</li>
            <li>setup.py </li>
            <li>py_ctf/ 
              <ul>
                <li> ...</li>
              </ul>
            </li>
            <li>py_dm/ 
              <ul>
                <li>...</li>
              </ul>
            </li>
            <li>qwpython-src</li>
          </ul>
        </li>
      </ul>
      <p>If you don't use this particular placement, you'll have to edit the <code>deathmatch.py</code> 
        and/or <code>ctf.py</code> files to look somewhere else for the game's 
        .pak files.</p>
      <h2>Building the native code</h2>
      <p><i>(Unix users need to follow this step. Windows distributions contain 
        pre-built binaries allowing you to skip this, but if you have VisualC++ 
        you can follow this step also to build your own binary.)</i></p>
      <p>Change to the qwpython directory and run this command:</p>
      <p><code>python setup.py install --install-lib .</code></p>
      <p>This will compile the native-code part of QWPython (the actual QuakeWorld 
        engine), and a couple supporting modules, and place the resulting package, 
        named 'qwpython', in the current directory. So you should end up with 
        something like (many files omitted, generated files shown in <font color="#009933">green</font>):</p>
      <ul class="dirtree">
        <li>quake/ 
          <ul>
            <li>id1/</li>
          </ul>
        </li>
        <li>qwpython-<i>x.y</i>/ 
          <ul>
            <li class="new">build/
              <ul>
                <li>...</li>
              </ul>
            </li>
          </ul>
        </li>
        <ul>
          <li>setup.py</li>
          <li class="new">qwpython/ 
            <ul>
              <li>pakfile.py</li>
              <li>qcsupport.py</li>
              <li>qwsv.pyd (or .so)</li>
            </ul>
          </li>
        </ul>
      </ul>
      <p>You may remove the 'build' directory after this is finished. </p>
      <h2>Running a Game</h2>
      <p>QWPython comes with pre-translated versions of Deathmatch and CTF, which 
        can be found in the <code>py_dm</code> and <code>py_ctf</code> directories. 
        If you want to translate your own QC code, be sure to read the <a href="docs/translate.html">translator 
        notes</a>. </p>
      <p>You might want to use a standard QuakeWorld 'server.cfg' file (usually 
        in the same place as your .PAK files), that looks something like:</p>
      <p><code>deathmatch 1<br>
        hostname &quot;Python-Powered Deathmatch&quot;<br>
        timelimit 15<br>
        fraglimit 150<br>
        maxclients 16<br>
        rcon_password mypass<br>
        map dm1 </code></p>
      <p>Although it should still work without one. From inside the QWPython directory, 
        run this command:</p>
      <p><code>python deathmatch.py</code></p>
      <p>and you're in business. You should also be able to use the normal QW 
        command line parameters, such as: <code>+map dm1</code></p>
      <p>Currently QWPython doesn't handle keyboard input to the console, so to 
        stop it you'll either have to use the 'kill' command on Unix, or just 
        close the window under Windows, or use the QuakeWorld 'rcon' command from 
        within a connected QW client console (as in:<code> rcon mypass quit</code>).</p>
      <h2>Running as a WinNT/Win2k Service</h2>
      <p>The file ctf_service.py is an example of running a QWPython game as a 
        service. To install and run, use the commands:</p>
      <p><code>python ctf_service.py install<br>
        net start ctfpython</code></p>
      <p>To stop and remove the service, try:</p>
      <p><code>net stop ctfpython<br>
        python ctf_service.py remove</code></p>
      <p>You can also control the service through the Windows service control 
        panel. Adapting this to other games besides CTF should be easy - nothing 
        in the game itself changes, only the ctf_service.py has anything specific 
        to Windows services in it.</p>
      </td>
  </tr>
  <tr> 
    <td>
      <div align="center"><a href="http://www.python.org"><img src="docs/PythonPowered.gif" width="110" height="44" border="0" alt="Python Powered"></a></div>
    </td>
    <td class="footer">
      <p>Barry Pederson &lt;<a href="mailto:bpederson@geocities.com">bpederson@geocities.com</a>&gt;<br />
      $Id: README.html,v 1.6 2001/04/15 22:55:02 barryp Exp $</p>
    </td>
  </tr>
</table>
</body>
</html>
